name: Secrets and Variables Demo

on:
  workflow_dispatch:

env:
  WORKFLOW_LEVEL_VAR: "I am defined in the workflow file"

jobs:
  demo-secrets:
    name: Demonstrate Secrets and Variables
    runs-on: ubuntu-latest
    
    env:
      JOB_LEVEL_VAR: "I am defined at job level"
    
    steps:
      - name: Show workflow-level env var
        run: echo "Workflow var is $WORKFLOW_LEVEL_VAR"
      
      - name: Show job-level env var
        run: echo "Job var is $JOB_LEVEL_VAR"
      
      - name: Show step-level env var
        env:
          STEP_LEVEL_VAR: "I am defined at step level"
        run: echo "Step var is $STEP_LEVEL_VAR"
      
      - name: Show repository variable
        run: echo "Deploy environment is ${{ vars.DEPLOY_ENVIRONMENT }}"
      
      - name: Show secret will be masked
        run: echo "Secret message is ${{ secrets.MY_SECRET_MESSAGE }}"
      
      - name: Show GitHub context variables
        run: |
          echo "Repository is ${{ github.repository }}"
          echo "Actor is ${{ github.actor }}"
          echo "Event is ${{ github.event_name }}"
